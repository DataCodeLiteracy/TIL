# ê¸°ë³¸ ë‚´ìš©ë“¤ ì •ë¦¬

## CSR

ë¦¬ì•¡íŠ¸ ê¸°ë°˜ì˜ í”„ë¡œì íŠ¸ëŠ” ì •ì ì¸ index.html íŒŒì¼ì„ ìµœì´ˆë¡œ ë Œë”ë§í•˜ê³ , ì´í›„ ì›¹íŒ©ìœ¼ë¡œ ë²ˆë“¤ë§ëœ bundle.js íŒŒì¼ì´ ë™ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ì— ì ìš©ë©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì ‘ê·¼ ë°©ì‹ì€ ë¦¬ì•¡íŠ¸ì˜ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§ (Client-Side Rendering, CSR) ë°©ì‹ì…ë‹ˆë‹¤.

- index.html íŒŒì¼ì—ëŠ” idê°€ rootì¸ divíƒœê·¸ê°€ ìˆëŠ”ë°, ê·¸ ë¶€ë¶„ì— bundle.js íŒŒì¼ì„ ì—°ê²°í•´ì„œ UIë¥¼ ë Œë”ë§í•œë‹¤.
- ì»´í¬ë„ŒíŠ¸ì—ì„œ ì •ì˜í•œ UIë¥¼ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ DOMì— ë™ì ìœ¼ë¡œ ìƒì„±í•´ì¤€ë‹¤.
- ë³´í†µ public í´ë”ëŠ” ì •ì ì¸ ë¶€ë¶„, src í´ë”ëŠ” ë™ì ì¸ ë¶€ë¶„ì„ ì •ì˜í•œë‹¤.

```jsx
const root = ReactDOM.createRoot(document.getElementById('root'))
root.render(
  <React.StrictMode>
    <AppProducts />
  </React.StrictMode>
)
```

- ReactDOMì„ ì´ìš©í•´ì„œ root ìš”ì†Œë¥¼ ë§Œë“¤ê³  ê·¸ rootìš”ì†ŒëŠ” html documentì˜ idê°€ rootì¸ ìš”ì†Œë¥¼ ì´ìš©í•´ì„œ Reactì˜ DOMì„ ë§Œë“ ë‹¤. ê·¸ë¦¬ê³  ê·¸ê±¸ root ë³€ìˆ˜ì— í• ë‹¹í•œë‹¤.
- root ë³€ìˆ˜ì— render ë©”ì„œë“œë¥¼ ì´ìš©í•´ì„œ ì›í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•œë‹¤.

## ìµœì‹  Yarn ì„¤ì •

ìµœì‹  yarn ìœ¼ë¡œ ì„¤ì •í•˜ë©´ì„œ ë¦¬ì•¡íŠ¸ì™€ ì¶©ëŒí•˜ëŠ” ë¶€ë¶„ì— ëŒ€í•´.. 

### Yarn CRAë¡œ ìƒì„±í•œ ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ì˜ ì½”ë“œë¥¼ ìˆ˜ì •í•  ë•Œ ë°œìƒí•˜ëŠ” í•˜ëŠ” ESLint ì˜¤ë¥˜

yarn ìœ¼ë¡œ craí•´ì„œ ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•œ ë‹¤ìŒì—, App.jsì—ì„œ ì½”ë“œë¥¼ ìˆ˜ì •í•œ ë’¤, ì €ì¥í•˜ë©´ ìë™ìœ¼ë¡œ ë³€ê²½ì‚¬í•­ì´ ë°˜ì˜ë˜ì§€ ì•Šê³  ESLint ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. 

```
[eslint] Failed to load config "react-app" to extend from.
Referenced from: /Users/dataliteracy/programming/mentors/dream-coding/React/review/package.json
```

ì´ë•Œì˜ í•´ê²°ë°©ë²•ì€..

ì¼ë‹¨ eslint-config-react íŒ¨í‚¤ì§€ ì„¤ì¹˜

```
yarn add -D eslint-config-react-app
```

í•˜ì§€ë§Œ ì•„ì§ í•´ê²°ë˜ì§€ ì•ŠëŠ”ë‹¤.

```
[eslint] Plugin "react" was conflicted between "package.json Â» eslint-config-react-app Â» 
/Users/dataliteracy/programming/mentors/dream-coding/React/review/.yarn/__virtual__
/eslint-config-react-app-virtual-911326b5dd/0/cache/eslint-config-react-app-npm-7.0.1-7
8bab43841-a67e082180.zip/node_modules/eslint-config-react-app/base.js" and "BaseConfig Â» 
/Users/dataliteracy/programming/mentors/dream-coding/React/review/.yarn/__virtual__/
eslint-config-react-app-virtual-f8ec5033bf/0/cache/eslint-config-react-app-npm-7.0.1-7
8bab43841-a67e082180.zip/node_modules/eslint-config-react-app/base.js".
```

.yarnrc.yml íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ì•„ë˜ì˜ ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤.

```yaml
packageExtensions:
  react-scripts@*:
    peerDependencies:
      eslint-config-react-app: '*'
```

ê·¸ë¦¬ê³  cacheë¥¼ ì‚­ì œí•˜ê³  ë‹¤ì‹œ install í•œ ë’¤ì— startì—ì„œ í™•ì¸í•´ë³´ë©´ ê·¸ ë‹¤ìŒë¶€í„°ëŠ” ìˆ˜ì •í•´ì„œ ì €ì¥í•´ë„ ESLint ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.

```
yarn cache clean
yarn install
yarn start
```

> yarnì˜ pnp ê¸°ëŠ¥ì´ ì ìš©ëœ í™˜ê²½ì—ì„œ pnpê°€ ë¦¬ì•¡íŠ¸ì™€ ì¶©ëŒì„ ì¼ìœ¼ì¼œì„œ ë°œìƒí–ˆë˜ ë¬¸ì œì˜€ê³ , ESLint ì„¤ì •ì´ eslint-config-react-app íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ë°, ì¶©ëŒ ë•Œë¬¸ì— ì›í™œí•˜ê²Œ ë™ì‘í•˜ì§€ ì•Šì•˜ë‹¤. ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ eslint-config-react-app íŒ¨í‚¤ì§€ë¥¼ ì§ì ‘ ì„¤ì¹˜í•˜ê³  .yarnrc.yml íŒŒì¼ì„ ìƒì„±í•´ì„œ pnpê°€ ì ì ˆí•˜ê²Œ ë™ì‘í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í–ˆë‹¤.
> 
> 
> ì—¬ê¸°ì„œ .yarnrc.yml íŒŒì¼ì˜ packageExtensions ë¶€ë¶„ì€, yarn pnpê°€ react-scripts íŒ¨í‚¤ì§€ì— ëŒ€í•´ ë‹¤ë¥¸ ë™ì‘ ë°©ì‹ì„ ì ìš©í•˜ë„ë¡ ì§€ì‹œí•˜ëŠ” ê²ƒì´ê³  react-scriptsëŠ” CRAì—ì„œ ì‚¬ìš©ë˜ëŠ” íŒ¨í‚¤ì§€ ì¤‘ í•˜ë‚˜ë¡œ, CRAê°€ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ESLint ì„¤ì •ì„ ì œê³µí•˜ëŠ” eslint-config-react-app íŒ¨í‚¤ì§€ì™€ ì—°ê´€ì´ ìˆë‹¤.
> 
> peerDependencies ë¶€ë¶„ì—ì„œ eslint-config-react-app: '*'ë¥¼ ì„¤ì •í•¨ìœ¼ë¡œì¨, yarn pnpê°€ react-scripts íŒ¨í‚¤ì§€ì— eslint-config-react-app íŒ¨í‚¤ì§€ì˜ í”¼ì–´ ì˜ì¡´ì„±ì„ íŠ¹ì • ë²„ì „ì´ ì•„ë‹Œ ì–´ë–¤ ë²„ì „ì´ë¼ë„ ë°›ì•„ë“¤ì´ë„ë¡ í•œë‹¤. ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨, eslint-config-react-app íŒ¨í‚¤ì§€ëŠ” pnpì˜ ì œì–´ ë²”ìœ„ ë°–ìœ¼ë¡œ ë‚˜ì™€ì„œ, í•´ë‹¹ íŒ¨í‚¤ì§€ì™€ ê´€ë ¨ëœ ì¶©ëŒì„ ìµœì†Œí™”í•  ìˆ˜ ìˆê²Œ ëœë‹¤.
> 

## JSX ë¬¸ë²• ì •ë¦¬

1. ì»´í¬ë„ŒíŠ¸ëŠ” ê¼­ í•˜ë‚˜ì˜ íƒœê·¸ë§Œ ë°˜í™˜í•´ì•¼ í•œë‹¤. 
ë‹¤ìˆ˜ì˜ íƒœê·¸ë¥¼ ë°˜í™˜í•˜ë ¤ë©´ ë°˜ë“œì‹œ ë¶€ëª¨ íƒœê·¸ë¡œ ê°ì‹¸ì•¼ í•œë‹¤. 
2. class â†’ className
    
    JSXì—ì„œ classNameì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì˜¬ë°”ë¥¸ ë°©ì‹. ê·¸ëŸ¬ë‚˜ classë¥¼ ì‚¬ìš©í•´ë„ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•Šê³  ë Œë”ë§ì´ ì •ìƒì ìœ¼ë¡œ ëœë‹¤. ê·¸ ì´ìœ ëŠ” Reactê°€ class ì†ì„±ì„ classNameìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸
    
    ì´ê²ƒì€ JSXì˜ ë¬¸ë²•ì ì¸ í¸ì˜ì„±ì„ ê³ ë ¤í•œ ê²°ê³¼ë‹¤. JSXëŠ” HTMLê³¼ ìœ ì‚¬í•œ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ì§€ë§Œ, ë‚´ë¶€ì ìœ¼ë¡œëŠ” JavaScriptë¡œ ë³€í™˜ë˜ì–´ ì²˜ë¦¬ë˜ê³  ReactëŠ” JSX ì½”ë“œë¥¼ ë¶„ì„í•˜ë©´ì„œ class ì†ì„±ì„ ë§Œë‚˜ë©´ ì´ë¥¼ classNameìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì‹¤ì œ DOM ìš”ì†Œì— ì ìš©
    
3. ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” { } ë¡œ ë¬¶ì–´ì¤˜ì•¼ í•œë‹¤.

```tsx
import logo from "./logo.svg";
import "./App.css";

function App2() {
  const variable = "JongHyun";
  const list = ["ìš°ìœ ", "ë°”ë‚˜ë‚˜", "ì»¤í”¼", "ì‚¬ì´ë‹¤", "ê¿€ë–¡"];
  return (
    <div>
      <h1 class="red">{`Hello! ${variable}!`}</h1>
      <p>{variable}</p>
      <ul>
        {list.map((item) => (
          <li>{item}</li>
        ))}
      </ul>
      <img
        style={{ width: "200px", height: "200px" }}
        src="https://images.unsplash.com/photo-1681933859581-55594c9a09a0?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80"
      />
    </div>
  );
}

export default App2;
```

## ì»´í¬ë„ŒíŠ¸ ë§Œë“œëŠ” ê¿€íŒ

- react snippet
    - ë‹¨ì¶•ì–´ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¡œì§ì„ ìƒì„±í•œë‹¤.
- global.code-snippets
    - ì»¤ìŠ¤í…€ìœ¼ë¡œ ë§Œë“ ë‹¤.
    - rfc
        
        ```
        "reactFunction": {
          "prefix": "rfc",
          "body": "import React from 'react';\n\nexport default function ${1:${TM_FILENAME_BASE}}() {\n\treturn (\n\t\t<div>\n\t\t\t\n\t\t</div>\n\t);\n}\n\n",
          "description": "Creates a React Function component"
        },
        ```
        
    - rsi
        
        ```
        "reactStatelessImplicitReturn": {
          "prefix": "rsi",
          "body": "import React from 'react';\n\nexport const ${1:${TM_FILENAME_BASE}} = (props) => (\n\t\t\t$0\n\t);",
          "description": "Creates a React Function component"
        },
        ```
        
    - si
        
        ```
        "Import Module CSS": {
          "prefix": "si",
          "body": ["import styles from './$TM_FILENAME_BASE.module.css'"],
          "description": "Import PostCSS"
        },
        ```
        
    - cn
        
        ```
        "ClassName": {
          "prefix": "cn",
          "body": ["className={styles.$1}"],
          "description": "Adding className"
        }
        ```
        

## ì²« ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

```jsx
import React from 'react';

export default function Avartar({ image, isNew }) {
  return (
    <div className='avatar'>
      <img className='photo' src={image} alt='avatar' />
      {isNew && <span className='new'>New</span>}
    </div>
  );
}
```

```jsx
import React from 'react';
import Avartar from './Avartar';

export default function Profile({ image, name, title, isNew }) {
  return (
    <div className='profile'>
      <Avartar image={image} isNew={isNew} />
      <h1>{name}</h1>
      <p>{title}</p>
    </div>
  );
}
```

## Props ì‚¬ìš©í•´ë³´ê¸°

```jsx
export default function Profile({ image, name, title, isNew }) {
  return (
    <div className='profile'>
      <Avartar image={image} isNew={isNew} />
      <h1>{name}</h1>
      <p>{title}</p>
    </div>
  );
}
```

```jsx
<Profile
  image='https://images.unsplash.com/photo-1527980965255-d3b416303d12?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1160&q=80'
  name='James Kim'
  title='í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì'
  isNew={true}
/>
```

## Event ì²˜ë¦¬í•˜ê¸°

```jsx
function AppProfile() {
  const handleClick = (event) => {
    console.log(event); // SyntheticBaseEvent ë°œìƒ
    alert('ë²„íŠ¼ì´ í´ë¦­ë¨!');
  };
  return (
    <>
			// ì°¸ì¡°ê°’ë§Œ ì „ë‹¬í•´ì•¼ í•œë‹¤. handleClick()ì´ë¼ê³  í•˜ë©´ ì•ˆëœë‹¤.
      <button onClick={handleClick}>ë²„íŠ¼</button>
      <Avartar
        image='https://images.unsplash.com/photo-1527980965255-d3b416303d12?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1160&q=80'
        isNew={true}
      />

      <Profile
        image='https://images.unsplash.com/photo-1527980965255-d3b416303d12?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1160&q=80'
        name='James Kim'
        title='í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì'
        isNew={true}
      />
    </>
  );
}

export default AppProfile;
```

```
SyntheticBaseEventÂ 
{_reactName: 'onClick', _targetInst: null, type: 'click', 
nativeEvent: PointerEvent, target: button,Â â€¦}
```

- onClickì´ ë˜ì—ˆì„ ë•Œ ì‹¤í–‰í•  í•¨ìˆ˜ë¥¼ ì—°ê²°í•˜ê³  ì‹¶ì€ ê²ƒì´ê¸° ë•Œë¬¸ì— handleClickì„ ê·¸ëŒ€ë¡œ ì „ë‹¬í•´ì•¼í•œë‹¤. handleClickì„ () í˜¸ì¶œí•˜ë©´ ì•ˆëœë‹¤.

## ë‚´ë¶€ ìƒíƒœê´€ë¦¬ State

ë¦¬ì•¡íŠ¸ì—ì„œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ì„œëŠ” stateë¥¼ ì„ ì–¸í•˜ê³  ì´ë¥¼ ê°€ìƒ DOMì— ì•Œë ¤ ë³€ê²½ì‚¬í•­ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²ƒìœ¼ë¡œ ìƒíƒœ ê´€ë¦¬ë¥¼ í•œë‹¤.

```tsx
function useState<S>(initialState: S | (() => S)): [S, Dispatch<SetStateAction<S>>];
  // convenience overload when first argument is omitted
  /**
   * Returns a stateful value, and a function to update it.
   *
   * @version 16.8.0
   * @see https://react.dev/reference/react/useState
   */
```

useStateëŠ” ë°°ì—´ì„ ë¦¬í„´í•œë‹¤. ë°°ì—´ì—ëŠ” ê°’ì„ ì „ë‹¬í•  ë³€ìˆ˜ì™€ ê·¸ ê°’ì„ ì—…ë°ì´íŠ¸í•  ë³€ìˆ˜ê°€ í• ë‹¹ëœë‹¤.

## useState ìœ ì˜í•  ì !

```jsx
onClick={() => {
  setCount(count + 1)
  setCount(count + 1)
  setCount(count + 1)
  setCount(count + 1)
  setCount(count + 1)
  onClick()
}}
```

setCountë¥¼ ë™ì¼í•œ ê±¸ ì—¬ëŸ¬ë²ˆ í˜¸ì¶œí•´ë„, ê°’ì€ ë™ì¼í•˜ê²Œ ë³€ê²½ëœë‹¤. 

ë¦¬ì•¡íŠ¸ëŠ” í˜„ì¬ onClickì˜ ìƒíƒœë¥¼ ìŠ¤ëƒ…ìƒ·í•´ì„œ countì˜ ê°’ì„ ê¸°ì–µí•œë‹¤. ê·¸ë ‡ê¸° ë–„ë¬¸ì— ë™ì¼í•œ ê°’ì„ ì¶œë ¥í•œë‹¤.

ì´ë•Œ, ì•„ë˜ì™€ ê°™ì´ ë³€ê²½í•˜ë©´ ì´ì „ ìƒíƒœ ê°’ì„ ë¹„êµí•´ì„œ ë³€ê²½í•˜ê²Œ ë˜ê³ , ê·¸ëŸ¼ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆê²Œ ëœë‹¤.

```jsx
setCount((prev) => prev + 1)
setCount((prev) => prev + 1)
setCount((prev) => prev + 1)
setCount((prev) => prev + 1)
setCount((prev) => prev + 1)
```

```jsx
import React, { useState } from 'react'

export default function Counter({ total, onClick }) {
  const [count, setCount] = useState(0)
  return (
    <div className="counter">
      <p className="number">
        {count} <span className="total">/{total}</span>
      </p>
      <button
        className="button"
        onClick={() => {
          setCount((prev) => prev + 1)
          onClick()
        }}
      >
        Add +
      </button>
    </div>
  )
}
```

```jsx
import React, { useState } from 'react';
import './App.css';
import Counter from './components/Counter';

export default function AppCounter() {
  const [count, setCount] = useState(0);
  const handleClick = () => setCount((prev) => prev + 1);
  return (
    <div className='container'>
      <div className='banner'>
        Total Count: {count} {count > 10 ? 'ğŸ”¥' : 'â„ï¸'}
      </div>
      <div className='counters'>
        <Counter total={count} onClick={handleClick} />
        <Counter total={count} onClick={handleClick} />
      </div>
    </div>
  );
}
```

- ë°ì´í„°ì˜ ì£¼ë„ê¶Œì„ ê·¸ëŒ€ë¡œ ì§€í‚¤ë©´ì„œ ì»´í¬ë„ŒíŠ¸ ê°„ì˜ ê±´ê°•í•œ í˜‘ë ¥ì„ ê°€ëŠ¥ì¼€ í•˜ë¼.

## useEffect ìƒì• ì£¼ê¸°

```jsx
import React, { useEffect, useState } from 'react';

export default function Products() {
  const [products, setProducts] = useState([]);
  const [checked, setChecked] = useState(false);
  const handleChange = () => setChecked((prev) => !prev);

  useEffect(() => {
    fetch(`data/${checked ? 'sale_' : ''}products.json`)
      .then((res) => res.json())
      .then((data) => {
        console.log('ğŸ”¥ëœ¨ëˆí•œ ë°ì´í„°ë¥¼ ë„¤íŠ¸ì›Œí¬ì—ì„œ ë°›ì•„ì˜´');
        setProducts(data);
      });
    return () => {
      console.log('ğŸ§¹ ê¹¨ë—í•˜ê²Œ ì²­ì†Œí•˜ëŠ” ì¼ë“¤ì„ í•©ë‹ˆë‹¤.');
    };
  }, [checked]);

  return (
    <>
      <input
        id='checkbox'
        type='checkbox'
        value={checked}
        onChange={handleChange}
      />
      <label htmlFor='checkbox'>Show Only ğŸ”¥ Sale</label>
      <ul>
        {products.map((product) => (
          <li key={product.id}>
            <article>
              <h3>{product.name}</h3>
              <p>{product.price}</p>
            </article>
          </li>
        ))}
      </ul>
    </>
  );
}
```

## ê³ ìœ í•œ key

```jsx
<li key={product.id}>
  <article>
    <h3>{product.name}</h3>
    <p>{product.price}</p>
  </article>
</li>
```