# commit 메세지 편집기로 저장안되는 이슈

처음 이슈는 git commit —amend로 커밋 메세지 변경해서 저장할 때 저장이 안되는 이슈였다.

두 번째 이슈는 git commit -e로 편집기를 열어서 커밋 메세지를 수정할 때 저장이 안되는 이슈였다. 

처음에는 vscode 설정이 문제라고 생각하지 않고 git commit —amend의 문제라고 생각했다; 전혀 다른 포인트로 생각하고 있으니 문제를 해결할 턱이 없었던 것이다. 

두 번째 git commit -e로 편집기를 열어 커밋 메세지를 작성하고 저장했는데 저장이 안되니까 그제서야 뭔가 이상하다고 생각하고 왜 그런지 알아보기 시작했다. 

그냥 **`vscode commit 메세지 저장안될때`**  라고 검색하니까 마땅한 부분이 나오지 않았다. 그러다가 vscode로 commit 메세지 작성하기라고 검색해서 설정하는 부분을 살펴보다가 —wait 옵션을 봤고, 혹시나 하는 마음에 

.gitconfig 파일에 설정 값중에 editor 설정하는 부분에 —wait 옵션을 추가해주었다.

```
[core]
	editor = code --wait
	autocrlf = input
	excludesfile = /Users/dataliteracy/.gitignore_global
```

그렇게 한 다음에 다시 커밋메세지를 작성하고 저장해보았다. 

그랬더니 정상적으로 저장이 되는 것이다. 

—wait 옵션은 편집기로 커밋 메세지를 작성하는 파일이 열렸을 때 그 파일을 저장하고 종료할 때까지 터미널을 사용하지 않고 대기(wait)하게 하는 옵션이다. 

그렇다면 왜 wait 옵션을 사용할 때만 저장이 되고 사용하지 않을 때는 저장이 안된걸까?

내가 나름 생각해본 건 커밋 메세지를 작성하는 도중에 터미널로 다른 변경사항을 입력하게 되면 서로 다른 변경사항을 가질 수 있으니 커밋 메세지를 작성하고 종료할 때까지는 터미널을 사용하지 않는 것이 권장될 것 같다. 그렇기 때문에 —wait 옵션으로 반드시 커밋 메세지 작성하고 저장하고 종료한 다음에 터미널을 사용할 수 있게 해놓은 게 아닐까?

이게 맞는지는 모르겠지만 일단은 이 정도로 정리하고 얼른 wait 옵션으로 앞으로 커밋 메세지 저장을 vscode로 활용해보자.