# 변수 다루기

### var를 지양하자

- var는 함수 스코프, let과 const는 블록 스코프
- var는 재선언이 가능하다.

→ 함수 스코프로 동작하고 재선언이 가능하기 때문에 많은 문제를 발생시킨다. (변수 간 충돌, 예측 불가능한 동작)

- var는 호이스팅으로 인해 선언 전에 undefined로 할당되어 있는 것이 참조가 가능하다. 하지만 let과 const는 TDZ에 의해 참조가 불가능하다.
- 변수는 let, 상수는 const로 선언하는 것이 좋다.
- let은 재할당이 가능하다. 하지만 const는 재할당이 불가능하다.

### function scope vs block scope

- var는 함수 단위 스코프라 if문이나 그 외의 블록 스코프에서 예상과는 다른 동작을 할 수 있다.
- 블럭 단위의 스코프로 동작하는 let, const로 작성해야 코드의 흐름이 명확해진다.

### 전역 공간 사용 최소화

- 전역 스코프에 변수 선언을 최소화하자.
- 한 프로젝트 내의 자바스크립트 파일은 서로 전역공간이 공유된다.
- 파일을 나눈다고 스코프가 나뉘지 않는다.
- var로 선언한 전역 변수는 전역 공간을 공유하고 있는 다른 자바스크립트 파일에서 사용이 가능하다.
- 스코프를 나누는 방법에 대해 고민하라. ( IIFE, Module, Closure)

### 임시 변수 제거하기

- 문제점
  - 명령형으로 가득한 로직, 디버깅이 힘들고 추가적은 코드를 작성하고 싶은 유혹이 발생할 수 있기 때문에 임시 변수의 사용을 최소화해라.
  - 임시 객체도 함수 내부가 커지면 전역 공간과 같아질 수 있다.
- 해결책
  - 임시 변수를 사용하는 것보다 함수로 추상화해서 사용하라.
  - 바로 반환하기
  - 고차 함수 사용하기
  - 선언형 프로그래밍

### 호이스팅 주의하기

- 런타임시 선언부만 최상단으로 올리는 것
- var는 선언과 동시에 undefined 할당
  - 따라서 선언부에 도달하기 전에 undefined로 참조가 가능
- let, const는 선언부에 도달해야지 초기화, 할당이 이루어진다.
  - let, const는 선언부에 도달하기 전에 참조하려고 하면 초기화가 되어 있지 않다는 Reference Error 발생
- 함수도 호이스팅 된다.

→ var를 지양하고 함수를 표현식으로 작성한다.
