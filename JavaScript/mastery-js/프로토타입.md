# í”„ë¡œí† íƒ€ì…

## í”„ë¡œí† íƒ€ì…ì´ë€?

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í”„ë¡œí† íƒ€ì…(Prototype)ì€ ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì—ì„œ ê°ì²´ ê°„ì˜ ìƒì†ì„ êµ¬í˜„í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. ëª¨ë“  ê°ì²´ëŠ” í”„ë¡œí† íƒ€ì…ì„ ê°€ì§€ë©°, ì´ í”„ë¡œí† íƒ€ì…ì„ í†µí•´ ì†ì„±ê³¼ ë©”ì„œë“œë¥¼ ìƒì†ë°›ê³  ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í”„ë¡œí† íƒ€ì…ì€ í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ í†µí•´ ì—¬ëŸ¬ ê°œì˜ ê°ì²´ê°€ ì—°ê²°ë˜ì–´ ìˆëŠ” êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤.

ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ê·¸ ê°ì²´ì˜ í”„ë¡œí† íƒ€ì…ì„ ì§€ì •í•˜ë©´, í•´ë‹¹ ê°ì²´ëŠ” í”„ë¡œí† íƒ€ì…ì˜ ì†ì„±ê³¼ ë©”ì„œë“œë¥¼ ìƒì†ë°›ê²Œ ë©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê³  ê°ì²´ ê°„ì˜ ê´€ê³„ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í”„ë¡œí† íƒ€ì…ì˜ ì˜ˆì‹œë¡œëŠ” ëª¨ë“  ê°ì²´ê°€ ê¸°ë³¸ì ìœ¼ë¡œ Objectë¼ëŠ” ë‚´ì¥ ê°ì²´ì˜ í”„ë¡œí† íƒ€ì…ì„ ìƒì†ë°›ìŠµë‹ˆë‹¤. ì¦‰, ëª¨ë“  ê°ì²´ëŠ” Objectì˜ ë©”ì„œë“œì™€ ì†ì„±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

__proto__, Object.getPrototypeOf, Object.setPrototypeOf, isPrototypeOf()

## í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„°

- ê°ì²´ì˜ ìƒíƒœë¥¼ ê°„ì§í•˜ê³  ìˆëŠ” ë””ìŠ¤í¬ë¦½í„°..

```jsx
const dog = { name: 'ì™€ìš°', emoji: 'ğŸ¶' }

console.log(Object.keys(dog))
console.log(Object.values(dog))
console.log(Object.entries(dog))

console.log('name' in dog)
console.log(dog.hasOwnProperty('name'))

// ì˜¤ë¸Œì íŠ¸ì˜ ê°ê°ì˜ í”„ë¡œí¼í‹°ëŠ” í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„°ë¼ê³  í•˜ëŠ” ê°ì²´ë¡œ ì €ì¥ë¨
const descriptors = Object.getOwnPropertyDescriptors(dog)
console.log(descriptors)

const desc = Object.getOwnPropertyDescriptor(dog, 'name')
console.log(desc)

Object.defineProperty(dog, 'name', {
  value: 'ë©ë©',
  writable: false,
  enumerable: false,
  configurable: false
})

console.log(dog.name)
console.log(Object.keys(dog))
delete dog.name
console.log(dog.name)

const student = {}
Object.defineProperties(student, {
  firstName: {
    value: 'ì˜í¬',
    writable: true,
    enumerable: true,
    configurable: true
  },
  lastName: {
    value: 'ê¹€',
    writable: true,
    enumerable: true,
    configurable: true
  },
  fullName: {
    get() {
      return `${lastName} ${firstName}`
    },
    set(name) {
      ;[this.lastName, this.firstName] = name.split(' ')
    },
    configurable: true
  }
})
const lastName = 'ì´'
const firstName = 'ì¢…í˜„'
console.log(student.fullName) // ì´ ì¢…í˜„
console.log(student.firstName) // ì˜í¬
```

## ê°ì²´ ë¶ˆë³€ì„±ì„ ìœ„í•˜ì—¬

```jsx
// ë™ê²°! Object.freeze ì¶”ê°€ âŒ, ì‚­ì œ âŒ, ì“°ê¸° âŒ, ì†ì„± ì¬ì •ì˜ âŒ
// (ë‹¨, ì–•ì€ ê½ê½ ì–¼ë¦¼!)
const ellie = { name: 'ì—˜ë¦¬' };
const dog = { name: 'ì™€ìš°', emoji: 'ğŸ¶', owner: ellie };
Object.freeze(dog);
dog.name = 'ë©ë©';
console.log(dog);
dog.age = 4;
console.log(dog);
delete dog.name;
console.log(dog);
ellie.name = 'ì—˜ë¦¬ì–Œ';      // ì–•ì€ ê½ê½ ì–¼ë¦¼
console.log(dog);

// ë°€ë´‰! Object.seal ê°’ì˜ ìˆ˜ì • âœ…, ì¶”ê°€ âŒ, ì‚­ì œ âŒ, ì†ì„± ì¬ì •ì˜ âŒ
const cat = { ...dog };
//Object.assign(cat, dog);
Object.seal(cat);
console.log(cat);
cat.name = 'ëƒì˜¹';
console.log(cat);
delete cat.emoji;
console.log(cat);

console.log(Object.isFrozen(dog));
console.log(Object.isSealed(cat));

// í™•ì¥ ê¸ˆì§€ preventExtensions ì¶”ê°€ âŒ
const tiger = { name: 'ì–´í¥' };
Object.preventExtensions(tiger);
console.log(Object.isExtensible(tiger));
tiger.name = 'ì–´íì‘';
console.log(tiger);
delete tiger.name;
console.log(tiger);
tiger.age = 1;
console.log(tiger);
```

## í”„ë¡œí† íƒ€ì… ë ˆë²¨ í•¨ìˆ˜

- ì¸ìŠ¤í„´ìŠ¤ ë ˆë²¨ì˜ í•¨ìˆ˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë§ˆë‹¤ ë©”ì„œë“œë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— êµ³ì´ ì¸ìŠ¤í„´ìŠ¤ ë ˆë²¨ì—ì„œ ì‚¬ìš©í•  ê²Œ ì•„ë‹ˆë¼ë©´ í”„ë¡œí† íƒ€ì… ë ˆë²¨ì˜ í•¨ìˆ˜ë¡œ ì„ ì–¸í•˜ëŠ” ê²Œ ì¢‹ë‹¤. (í´ë˜ìŠ¤ì˜ static? staticì€ ì •ì ë ˆë²¨?)

```jsx
// const dog1 = { name: 'ë­‰ì¹˜', emoji: 'ğŸ¶' };
// const dog2 = { name: 'ì½”ì½”', emoji: 'ğŸ©' };

function Dog(name, emoji) {
  this.name = name;
  this.emoji = emoji;
  // ì¸ìŠ¤í„´ìŠ¤ ë ˆë²¨ì˜ í•¨ìˆ˜
  /* this.printName = () => {
    console.log(`${this.name} ${this.emoji}`);
  }; */
}

// í”„ë¡œí† íƒ€ì… ë ˆë²¨ì˜ í•¨ìˆ˜
Dog.prototype.printName = function () {
  console.log(`${this.name} ${this.emoji}`);
};
const dog1 = new Dog('ë­‰ì¹˜', 'ğŸ¶');
const dog2 = new Dog('ì½”ì½”', 'ğŸ©');
console.log(dog1, dog2);
dog1.printName();
dog2.printName();

// ì˜¤ë²„ë¼ì´ë”©
// ì¸ìŠ¤í„´ìŠ¤ ë ˆë²¨ì—ì„œ(ìì‹) ë™ì¼í•œ ì´ë¦„ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ì¬ì •ì˜ í•˜ë©´ (ì˜¤ë²„ë¼ì´ë”© í•˜ë©´)
// í”„ë¡œí† íƒ€ì… ë ˆë²¨ì˜(ë¶€ëª¨) í•¨ìˆ˜ì˜ í”„ë¡œí¼í‹°ëŠ” ê°€ë ¤ì§„ë‹¤ (ì„€ë„ì‰ ë¨)
dog1.printName = function () {
  console.log('ì•ˆë…•!!');
};
dog1.printName();

// ì •ì  ë ˆë²¨
Dog.hello = () => {
  console.log('Hello!');
};
Dog.hello();
Dog.MAX_AGE = 20;
```

## í”„ë¡œí† íƒ€ì…ì„ ì´ìš©í•œ ìƒì†

```jsx
// í”„ë¡œí† íƒ€ì…ì„ ë² ì´ìŠ¤ë¡œí•œ ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°
function Animal(name, emoji) {
  this.name = name;
  this.emoji = emoji;
}

Animal.prototype.printName = function () {
  console.log(`${this.name} ${this.emoji}`);
};

function Dog(name, emoji, owner) {
  // super(name, emoji)
  Animal.call(this, name, emoji);
  this.owner = owner;
}
// Dog.prototype = Object.create(Object.prototype);
Dog.prototype = Object.create(Animal.prototype);

Dog.prototype.play = () => {
  console.log('ê°™ì´ ë†€ìì˜¹!');
};

function Tiger(name, emoji) {
  Animal.call(this, name, emoji);
}

Tiger.prototype = Object.create(Animal.prototype);
Tiger.prototype.hunt = () => {
  console.log('ì‚¬ëƒ¥í•˜ì! ..ğŸ‡..');
};

const dog1 = new Dog('ë©ë©', 'ğŸ¶', 'ì—˜ë¦¬');
dog1.play();
dog1.printName();
const tiger1 = new Tiger('ì–´í¥', 'ğŸ¯');
tiger1.printName();
tiger1.hunt();

// ìƒì†ë„ í™•ì¸ í•˜ëŠ” ë²•
console.log(dog1 instanceof Dog);
console.log(dog1 instanceof Animal);
console.log(dog1 instanceof Tiger);
console.log(tiger1 instanceof Dog);
console.log(tiger1 instanceof Animal);
console.log(tiger1 instanceof Tiger);
```

## Mixin

```jsx
// ì˜¤ë¸Œì íŠ¸ëŠ” ë‹¨ í•˜ë‚˜ì˜ prototypeì„ ê°€ë¦¬í‚¬ ìˆ˜ ìˆë‹¤ (ë¶€ëª¨ëŠ” ë‹¨ í•˜ë‚˜!)
// í•˜ì§€ë§Œ! ì—¬ëŸ¬ê°œì˜ í•¨ìˆ˜ë“¤ì„ ìƒì†í•˜ê³  ì‹¶ë‹¤!
// Mixin!
const play = {
  play: function () {
    console.log(`${this.name} ë†€ì•„ìš”!`);
  },
};

const sleep = {
  sleep: function () {
    console.log(`${this.name} ììš”!`);
  },
};

function Dog(name) {
  this.name = name;
}

Object.assign(Dog.prototype, play, sleep);
const dog = new Dog('ë©ë©');
console.log(dog);
dog.play();
dog.sleep();

class Animal {}
class Tiger extends Animal {
  constructor(name) {
    super();
    this.name = name;
  }
}

Object.assign(Tiger.prototype, play, sleep);
const tiger = new Tiger('ì–´í¥!');
tiger.play();
tiger.sleep();
```

## ìƒì† êµ¬í˜„í•˜ê¸°

```jsx
// í´ë˜ìŠ¤ë¥¼ ë² ì´ìŠ¤ë¡œí•œ ê°ì²´ì§€í–¥í”„ë¡œê·¸ë˜ë°
class Animal {
  constructor(name, emoji) {
    this.name = name;
    this.emoji = emoji;
  }
  printName() {
    console.log(`${this.name} ${this.emoji}`);
  }
}

class Dog extends Animal {
  play() {
    console.log('ê°™ì´ ë†€ìì˜¹!');
  }
}
class Tiger extends Animal {
  hunt() {
    console.log(`ì‚¬ëƒ¥í•˜ì! ..ğŸ‡..`);
  }
}

const dog1 = new Dog('ë­‰ì¹˜', 'ğŸ¶');
const tiger1 = new Tiger('ì–´í¥', 'ğŸ¯');
dog1.printName();
tiger1.printName();
dog1.play();
tiger1.hunt();

console.log(dog1 instanceof Dog);
console.log(dog1 instanceof Animal);
console.log(dog1 instanceof Tiger);
console.log(tiger1 instanceof Tiger);
```